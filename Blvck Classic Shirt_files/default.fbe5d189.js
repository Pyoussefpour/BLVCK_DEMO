(window["wpJsonpOkeReviews"]=window["wpJsonpOkeReviews"]||[]).push([["review-templates/default"],{"29fa":function(e,t,i){"use strict";i("740d")},7303:function(e,t,i){"use strict";var a=i("9ab4"),r=i("2fe1"),s=i("60a3"),n=i("755c"),o=i("5a8d"),d=i("7c19");let l=class extends s["f"]{constructor(){super(...arguments),this.isTruncated=!1,this.isFullReviewLoading=!1,this.isMetafieldTruncated=!1,this.metafieldReviewBodyMaxChars=1e3,this.environment="production"}created(){var e;(null===(e=this.environment)||void 0===e?void 0:e.startsWith("metafields"))&&this.review.body.length>this.metafieldReviewBodyMaxChars&&(this.isMetafieldTruncated=!0,this.review.body=this.review.body.substring(0,this.metafieldReviewBodyMaxChars)+"...")}get hideAvatars(){return!this.reviewSettings.showAvatars}get showDates(){return this.reviewSettings.showDates}get imageGap(){return this.reviewSettings.media.imageGap}get isAttributesVisible(){return!this.attributesNeedTruncation||!this.isTruncated}reviewHasMedia(){var e;return!!(null===(e=this.review.media)||void 0===e?void 0:e.length)}get mediaSize(){return this.reviewSettings.media.size}get reviewDateCreated(){return n["a"].formatDate(this.review.dateCreated,d["default"].widgetSettings.global.dateSettings.format)}get showMedia(){return this.reviewSettings.showMedia}get showAttributeBars(){return this.reviewSettings.layout.showAttributeBars}get showProductInfo(){return"always"===this.reviewSettings.layout.showProductDetails||"only-when-grouped"===this.reviewSettings.layout.showProductDetails&&("all"===this.widgetMode||"group"===this.widgetMode)}get starHeight(){return this.reviewSettings.stars.height}get starInterspace(){return this.reviewSettings.stars.interspace}get truncationSettings(){return this.reviewSettings.truncationSettings}get selectAttributes(){var e;return[...this.reviewerAttributes,...null!==(e=this.review.productAttributes)&&void 0!==e?e:[]]}get reviewerAttributes(){var e,t;return null!==(t=null===(e=this.review.reviewer.attributes)||void 0===e?void 0:e.filter(e=>"location"!==e.type))&&void 0!==t?t:[]}get reviewerAchievements(){var e,t;const i=this.review.reviewer.achievementIds,a=null===(e=this.loyaltyContext)||void 0===e?void 0:e.achievementSettings;if(!a||!(null===i||void 0===i?void 0:i.length))return[];const r=e=>{if(!e)return;const t=e.requiredAmount;switch(e.type){case"redemptions":return this.$tc(`Redeem ${t>1?"{0} rewards":"a reward"} using your points`,void 0,[t]);case"orders-with-loyalty-coupon":return this.$tc("Complete "+(t>1?"{0} orders with a loyalty coupon":"an order with a loyalty coupon"),void 0,[t]);case"referrals":return this.$tc("Refer "+(t>1?"{0} friends":"a friend"),void 0,[t]);case"reviews":return this.$tc("Leave "+(t>1?"{0} reviews":"a review"),void 0,[t]);case"customer-enrolled":return this.$tc("Join the loyalty program");case"reviews-with-photo":return this.$tc("Leave a review with a photo");case"reviews-with-video":return this.$tc("Leave a review with a video");case"earnings":return this.$tc("Earn loyalty points "+(t>1?"{0} times":"once"),void 0,[t])}},s=null!==(t=i.map(e=>{const t=a[e],i=r(t);return t&&i?{title:i,sticker:t.sticker}:void 0}))&&void 0!==t?t:[];return s.filter(e=>!!e)}get reviewerVipTier(){var e,t,i;const a=null!==(t=null===(e=d["default"].widgetSettings.reviewsWidget.reviews.list.loyalty)||void 0===e?void 0:e.showVipTiers)&&void 0!==t&&t;if(!a)return;const r=null===(i=this.loyaltyContext)||void 0===i?void 0:i.vipTiers,s=this.review.reviewer.vipTierId;return s&&r?r[s]:void 0}get showIncentivizedReviewsBadge(){return this.review.isIncentivized&&d["default"].widgetSettings.global.showIncentiveIndicator}get showReviewRecommendation(){return"undefined"!==typeof this.review.isRecommended}async onReadMoreClick(){var e;if(this.review.isBodyTruncated){this.isFullReviewLoading=!0;try{const t=await o["a"].getReview(this.review.reviewId);this.review.body=null!==(e=null===t||void 0===t?void 0:t.review.body)&&void 0!==e?e:"",this.isTruncated=!1}catch(t){this.isTruncated=!0}finally{this.isFullReviewLoading=!1}}else this.isTruncated=!1}setReviewTruncation(e){this.isTruncated=e.reviewBodyNeedsTruncation||this.replyNeedsTruncation||this.mediaNeedsTruncation||this.attributesNeedTruncation||!!this.review.isBodyTruncated}get replyNeedsTruncation(){return this.truncationSettings.truncateAll&&!!this.review.reply}get mediaNeedsTruncation(){return this.truncationSettings.truncateAll&&this.reviewHasMedia()&&this.showMedia}get attributesNeedTruncation(){var e;const t=!!(null===(e=this.review.attributesWithRating)||void 0===e?void 0:e.length);return this.truncationSettings.truncateAll&&t&&this.showAttributeBars}};Object(a["a"])([Object(s["d"])()],l.prototype,"review",void 0),Object(a["a"])([Object(s["d"])()],l.prototype,"widgetMode",void 0),Object(a["a"])([Object(s["d"])()],l.prototype,"widgetSize",void 0),Object(a["a"])([Object(s["d"])()],l.prototype,"reviewSettings",void 0),Object(a["a"])([Object(s["d"])()],l.prototype,"loyaltyContext",void 0),l=Object(a["a"])([Object(r["b"])({components:{Avatar:async()=>(await i.e("modules/avatar").then(i.bind(null,"df3a"))).default,BarAttributes:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/attributes")]).then(i.bind(null,"691b"))).default,MediaCollage:async()=>(await i.e("modules/media-collage").then(i.bind(null,"9ab7"))).default,MediaStrip:async()=>(await i.e("modules/media-strip").then(i.bind(null,"ce62"))).default,Product:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/review-basic-content")]).then(i.bind(null,"be6f"))).default,ReviewBasicContent:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/review-basic-content")]).then(i.bind(null,"ca06"))).default,Reviewer:async()=>(await i.e("modules/reviewer").then(i.bind(null,"1dac"))).default,ReviewerAchievements:async()=>(await i.e("modules/reviewer-achievements").then(i.bind(null,"ff45"))).default,ReviewerRecommendation:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/review-basic-content")]).then(i.bind(null,"6b00"))).default,ReviewFooter:async()=>(await i.e("modules/helpful-voting").then(i.bind(null,"a690"))).default,ReviewReply:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/review-basic-content")]).then(i.bind(null,"f11d"))).default,SelectAttributes:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/attributes")]).then(i.bind(null,"d728"))).default}})],l),t["a"]=l},"740d":function(e,t,i){},"755c":function(e,t,i){"use strict";var a=i("88c3"),r=i("eafb"),s=i("7c19");const n=["January","February","March","April","May","June","July","August","September","October","November","December"];t["a"]={formatDate(e,t,i){var a;switch(t.type){case"hidden":return;case"absolute":return(null===(a=window.Intl)||void 0===a?void 0:a.DateTimeFormat)?this.getAbsoluteDate(e,t.options,i):this.getPrettyDate(e,i);case"relative":default:return this.getPrettyDate(e,i)}},getPrettyDate(e,t){var i;if(e){const s=r["a"].toFormatComponents(new Date(e));if(s){const e=null!==(i=s.period)&&void 0!==i?i:0,r=(null===t||void 0===t?void 0:t.transformPrettyDateFormatStringFunc)?t.transformPrettyDateFormatStringFunc(s.formatString):s.formatString;return a["a"].tc(r,e,{0:e})}}},getAbsoluteDate(e,t,i){if(e instanceof Date||(null===e||void 0===e?void 0:e.length)){const r=new Intl.DateTimeFormat(a["a"].locale,t).format(new Date(e));return(null===i||void 0===i?void 0:i.transformAbsoluteDateOutputStringFunc)?i.transformAbsoluteDateOutputStringFunc(r):r}},getFormattedDateFromAttribute(e){var t,i;const r=e.value;if(r.day||r.month||r.year){if(r.day&&r.month&&r.year&&void 0!==(null===(t=window.Intl)||void 0===t?void 0:t.DateTimeFormat)){const e=s["default"].widgetSettings.global.dateSettings.format,t="absolute"===e.type?e.options:{dateStyle:"medium"};return this.getAbsoluteDate(new Date(r.year,r.month-1,r.day),t)}return r.month?a["a"].tc(n[r.month],void 0,{day:r.day,year:null===(i=r.year)||void 0===i?void 0:i.toString()}).trim():r.year?r.year.toString():void 0}}}},d0ca:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-w-review",class:{"oke-w-review--featuredMedia":"featured"===e.mediaLayout&&this.reviewHasMedia()&&e.showMedia,"oke-w-review--minimalBorders":"minimal"===e.reviewLayoutSettings.borderStyle}},[i("div",{staticClass:"oke-w-review-side",class:{"oke-is-collapsed":e.collapseSidebar}},[i("div",{staticClass:"oke-w-review-reviewer"},[i("reviewer",{attrs:{reviewer:e.review.reviewer,vipTier:e.reviewerVipTier,hideAvatar:e.hideAvatars}}),e.reviewerAchievements.length?i("div",{staticClass:"oke-w-review-reviewer-achievements"},[i("reviewer-achievements",{attrs:{achievements:e.reviewerAchievements}})],1):e._e()],1),e.reviewLayoutSettings.collapseReviewerDetails?i("button",{directives:[{name:"ga",rawName:"v-ga:click",value:{action:"Expand Reviewer Details Click",label:e.review.productName,type:"interaction"},expression:"{ action: 'Expand Reviewer Details Click', label: review.productName, type: 'interaction' }",arg:"click"}],staticClass:"oke-w-review-side-expand",attrs:{"aria-expanded":e.collapseSidebar?"false":"true",title:"More details",type:"button"},on:{click:function(t){return e.onSidebarCollapseToggle()}}}):e._e(),i("div",{staticClass:"oke-w-review-side-expandContent"},[e.showProductInfo?i("div",{staticClass:"oke-w-review-product"},[i("product",{attrs:{review:e.review,showProductVariantName:e.reviewSettings.layout.showProductVariantName}})],1):e._e(),e.showReviewRecommendation?i("div",{staticClass:"oke-w-review-recommendation"},[i("reviewer-recommendation",{attrs:{isRecommended:e.review.isRecommended}})],1):e._e(),e.selectAttributes.length?i("div",{staticClass:"oke-w-review-selectAttributes"},[i("select-attributes",{attrs:{attributes:e.selectAttributes}})],1):e._e()])]),i("div",{staticClass:"oke-w-review-main",style:e.reviewStyle},[i("div",{staticClass:"oke-w-review-content"},[i("review-basic-content",{attrs:{isLoading:e.isFullReviewLoading,isMetafieldTruncated:e.isMetafieldTruncated,isReviewTruncated:e.isTruncated,review:e.review,showDates:e.showDates,starHeight:e.starHeight,starInterspace:e.starInterspace,truncationSettings:e.truncationSettings},on:{load:function(t){return e.setReviewTruncation(t)},readMore:function(t){return e.onReadMoreClick()}}})],1),e.showAttributeBars&&e.review.attributesWithRating&&e.review.attributesWithRating.length?i("div",{staticClass:"oke-w-review-attributes",attrs:{hidden:!e.isAttributesVisible}},[i("bar-attributes",{attrs:{attributes:e.review.attributesWithRating,barHasMinWidth:!0}})],1):e._e(),e.showMedia&&e.reviewHasMedia()?i("div",{staticClass:"oke-w-review-media",attrs:{hidden:!e.isMediaVisible}},["featured"===e.mediaLayout?i("div",{staticClass:"oke-w-review-media-featured"},[i("media-collage",{attrs:{media:e.review.media,collageWidth:e.mediaSize,imageGap:e.imageGap,productName:e.review.productName,mediaContext:"review"},on:{click:function(t){return e.onMediaClick(t)}}})],1):e._e(),i("div",{staticClass:"oke-w-review-media-thumbnail"},[i("media-strip",{attrs:{media:e.review.media,imageGap:e.imageGap,imageHeight:e.mediaSize,productName:e.review.productName,mediaContext:"review",maxMediaCount:2,showAllImagesWhenLarge:"featured"!==e.mediaLayout,flexWrapImages:"large"===e.widgetSize},on:{click:function(t){return e.onMediaClick(t)}}})],1)]):e._e(),i("review-footer",{attrs:{review:e.review,featuredTagIds:e.reviewSettings.featuredTagIds}}),e.review.reply?i("div",{staticClass:"oke-w-review-reply"},[i("review-reply",{attrs:{reply:e.review.reply}})],1):e._e()],1)])},r=[],s=i("9ab4"),n=i("60a3"),o=i("ea7b");let d=class extends(Object(n["c"])(o["a"])){constructor(){super(...arguments),this.isSidebarCollapsed=!0}get collapseSidebar(){return"small"===this.widgetSize&&this.isSidebarCollapsed&&!!this.reviewLayoutSettings.collapseReviewerDetails}onSidebarCollapseToggle(){this.isSidebarCollapsed=!this.isSidebarCollapsed}};d=Object(s["a"])([n["a"]],d);var l=d,u=l,v=(i("29fa"),i("2877")),c=Object(v["a"])(u,a,r,!1,null,null,null);t["default"]=c.exports},ea7b:function(e,t,i){"use strict";var a=i("9ab4"),r=i("2fe1"),s=i("60a3"),n=i("7303"),o=i("9de8"),d=i("da28");let l=class extends n["a"]{get isMediaVisible(){return(!this.isTruncated||!this.mediaNeedsTruncation)&&this.showMedia||"featured"===this.mediaLayout}get mediaLayout(){return this.reviewSettings.media.layout}get reviewLayoutSettings(){return this.reviewSettings.layout}get reviewStyle(){if("featured"===this.mediaLayout&&this.reviewHasMedia())return{"grid-template-columns":`1fr ${o["a"].toPixels(this.mediaSize)+48}px`}}get mediaNeedsTruncation(){return this.truncationSettings.truncateAll&&this.reviewHasMedia()&&this.showMedia&&!("featured"===this.mediaLayout)}onMediaClick(e){const t=o["a"].convertReviewsToMediaReviews([this.review]);d["a"].openMediaModal({initialNextUrl:null,initialMedia:t,mediaContext:"review",initialIndex:e,widgetMode:this.widgetMode})}};Object(a["a"])([Object(s["d"])()],l.prototype,"reviewSettings",void 0),l=Object(a["a"])([r["b"]],l),t["a"]=l}}]);