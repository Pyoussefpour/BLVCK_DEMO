(window["wpJsonpOkeReviews"]=window["wpJsonpOkeReviews"]||[]).push([["modules/okendo-widget"],{"0742":function(e,t,i){},2877:function(e,t,i){"use strict";function s(e,t,i,s,r,o,n,a){var d,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),s&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),n?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=d):r&&(d=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),d)if(l.functional){l._injectStyles=d;var u=l.render;l.render=function(e,t){return d.call(t),u(e,t)}}else{var g=l.beforeCreate;l.beforeCreate=g?[].concat(g,d):[d]}return{exports:e,options:l}}i.d(t,"a",(function(){return s}))},"5a8d":function(e,t,i){"use strict";var s=i("2b0e"),r=i("7c19"),o=i("9de8"),n=i("e39c"),a=i("522e"),d=i("0625");const l=d["a"].apiBaseUrl,u=d["a"].dynamicTranscodedMediaBaseUrl,g=r["default"].customDomain?"https://"+r["default"].customDomain:d["a"].recorderPlusBaseUrl,c=r["default"].customDomain?"https://"+r["default"].customDomain:d["a"].appBaseUrl,w={ratingAndReviewCount:0,ratingAndReviewCountByLevel:{},ratingAndReviewValuesTotal:0},v=e=>{const t=new URL(e);if(!t.search.includes("locale")){const{code:e,variant:i}=p()||{};e&&t.searchParams.set("locale",e),i&&t.searchParams.set("variant",i)}return t.toString()},h=()=>{const e=s["a"].$localeStore.currentLocale;return e?`locale=${e.code}${e.variant?"&variant="+e.variant:""}`:""},p=()=>s["a"].$localeStore.shouldFetchTranslationsWithReviews?s["a"].$localeStore.currentLocale:void 0,m=(e,t)=>"undefined"===typeof e||404===e?Promise.resolve(t):Promise.reject(e),b=async(e,t,i)=>{const s=o["a"].getWidgetRenderMode();if("empty"===s)return Promise.resolve(t);if(!r["default"].subscriberId&&"sample-data"!==s)return console.warn("No subscriber Id set"),Promise.resolve(t);const n="sample-data"===s?{headers:{"x-okendo-force-sample-data":"true"}}:void 0;try{return a["a"].get(e,n)}catch(d){if(i)return i(d,t);throw d}};t["a"]={get subscriberId(){return r["default"].subscriberId},get storeBaseUrl(){if(this.subscriberId)return`${l}/stores/${this.subscriberId}`;console.warn("No subscriber Id set")},getApiSortOptions(e,t="date desc",i=[]){return"tags desc"===e&&(null===i||void 0===i?void 0:i.length)?[...i.reverse().map(e=>`tag:${e} desc`),t]:[e]},filtersToQueryString(e){if(!(null===e||void 0===e?void 0:e.length))return"";const t=null===e||void 0===e?void 0:e.map(e=>{const t="shopper"===e.target?"shopperAttributes":"generalAttributes",i=n["a"].toComaEscapedEncodedString(e.title),s=e.options.map(e=>n["a"].toComaEscapedEncodedString(e)).join(",");return`${t}=${i},${s}`}).join("&");return"&"+t},keywordFiltersToQueryString(e){if(!(null===e||void 0===e?void 0:e.length))return"";const t=e.map(({topic:e,keywords:t})=>`keywordTopics=${encodeURIComponent(e)},${t.map(({name:e})=>encodeURIComponent(e)).join(",")}`).join("&");return"&"+t},sortOptionsToQueryString(e){return Array.isArray(e)&&e.length?"&"+e.map(e=>"orderBy="+e).join("&"):""},ratingFiltersToQueryString(e){return(null===e||void 0===e?void 0:e.length)?"&"+e.map(e=>"ratings="+e).join("&"):""},freeTextSearchQueryString(e){return e?"&text="+encodeURIComponent(e.replace(/[^a-zA-Z0-9 ]/g,"")):""},apiBaseUrl(){return l},dynamicTranscodedMediaBaseUrl(){return u},writeReviewUrl(e){var t;return(null===(t=r["default"].features)||void 0===t?void 0:t.recorderPlusEnabled)?`${g}/?subscriberId=${this.subscriberId}&productId=${e}&${h()}`:`${c}/stores/${this.subscriberId}/review?productId=${e}&${h()}`},askQuestionUrl(e){var t;return(null===(t=r["default"].features)||void 0===t?void 0:t.recorderQandaPlusEnabled)?`${g}/question?subscriberId=${this.subscriberId}&productId=${e}&${h()}`:`${c}/stores/${this.subscriberId}/question?productId=${e}`},poweredByUrl(){return`https://okendo.io?utm_source=${this.subscriberId}&utm_medium=widget&utm_campaign=poweredby`},getMore(e,t){const i=n["a"].isAbsoluteUrl(e)?e:`${l}${e}`,s=new URL(i);void 0!==t&&s.searchParams.set("limit",t.toString());const r=v(s.toString());return a["a"].get(r)},postHelpfulVoteReview(e,t){return a["a"].post(`${this.storeBaseUrl}/reviews/${e}/vote`,{voteType:t})},getReview(e){const t=v(`${this.storeBaseUrl}/reviews/${e}`);return b(t,void 0)},getReviewTranslation(e){return a["a"].get(`${this.storeBaseUrl}/reviews/${e}?${h()}`)},getReviewsProduct(e,t,i,s,r,o,n){const a=v(`${this.storeBaseUrl}/products/${e}/reviews?limit=${t}${this.sortOptionsToQueryString(i)}${this.filtersToQueryString(s)}${this.keywordFiltersToQueryString(r)}${this.ratingFiltersToQueryString(o)}${this.freeTextSearchQueryString(n)}`);return b(a,{reviews:[],areReviewsGrouped:!1})},getReviewsAll(e,t){const i=v(`${this.storeBaseUrl}/reviews?limit=${e}${this.sortOptionsToQueryString(t)}`);return b(i,{reviews:[]})},getReviewsGroup(e,t,i){const s=v(`${this.storeBaseUrl}/collections/${e}/reviews?limit=${t}${this.sortOptionsToQueryString(i)}`);return b(s,{reviews:[]})},getReviewsKeywords(e){const t=`${this.storeBaseUrl}/products/${e}/reviews_keywords`;return b(t,{reviewsKeywords:void 0})},getReviewsKeywordsTranslation(e){return a["a"].get(`${this.storeBaseUrl}/products/${e}/reviews_keywords?${h()}`)},getReviewsSummary(e){const t=`${this.storeBaseUrl}/products/${e}/reviews_summary`;return b(t,{reviewsSummary:void 0})},getReviewsSummaryTranslation(e){return a["a"].get(`${this.storeBaseUrl}/products/${e}/reviews_summary?${h()}`)},getReviews(e,t,i=5,s=["date desc"],r,n,a,d){const l=o["a"].getWidgetMode(e,t);switch(l){case"product":return this.getReviewsProduct(e,i,s,r,n,a,d);case"group":return this.getReviewsGroup(t,i,s);default:return this.getReviewsAll(i,s)}},getMultiSourceMedia(e,t,i=5,s=["date desc"]){const r=new URL(this.storeBaseUrl+"/multi_source_media");return e?r.searchParams.set("productId",e):t&&r.searchParams.set("groupId",t),r.searchParams.set("limit",i.toString()),b(`${r.href}${this.sortOptionsToQueryString(s)}`,{media:[]})},async getReviewAggregateProduct(e){const t=await b(`${this.storeBaseUrl}/products/${e}/review_aggregate`,void 0,m);return null!==t&&void 0!==t?t:{reviewAggregate:w}},async getReviewAggregateAll(){const e=await b(this.storeBaseUrl+"/review_aggregate",void 0,m);return null!==e&&void 0!==e?e:{reviewAggregate:w}},async getReviewAggregateGroup(e){const t=await b(`${this.storeBaseUrl}/collections/${e}/review_aggregate`,void 0,m);return null!==t&&void 0!==t?t:{reviewAggregate:w}},getMediaProduct(e,t=6,i=["date desc"]){return b(`${this.storeBaseUrl}/products/${e}/review_media?limit=${t}${this.sortOptionsToQueryString(i)}`,{media:[]})},getMediaAll(e=6,t=["date desc"]){return b(`${this.storeBaseUrl}/review_media?limit=${e}${this.sortOptionsToQueryString(t)}`,{media:[]})},getMediaGroup(e,t=6,i=["date desc"]){return b(`${this.storeBaseUrl}/collections/${e}/review_media?limit=${t}${this.sortOptionsToQueryString(i)}`,{media:[]})},getQuestionsProduct(e,t=5,i="date desc"){return b(`${this.storeBaseUrl}/products/${e}/questions?limit=${t}&orderBy=${i}`,{questions:[]})},getQuestionAggregateProduct(e){return b(`${this.storeBaseUrl}/products/${e}/question_aggregate`,void 0)},getQuestionsAggregateCollection(e){return b(`${this.storeBaseUrl}/collections/${e}/question_aggregate`,void 0)},getQuestionsCollection(e,t=5,i="date desc"){return b(`${this.storeBaseUrl}/collections/${e}/questions?limit=${t}&orderBy=${i}`,{questions:[]})},getFiltersProduct(e){return b(`${this.storeBaseUrl}/products/${e}/attributes`,{productAttributes:[]})},postHelpfulVoteQuestion(e,t){return a["a"].post(`${this.storeBaseUrl}/questions/${e}/vote`,{voteType:t})},postHelpfulVoteAnswer(e,t,i){return a["a"].post(`${this.storeBaseUrl}/questions/${e}/answers/${t}/vote`,{voteType:i})}}},"6b9f":function(e,t,i){"use strict";i("0742")},"8d0e":function(e,t,i){"use strict";var s=i("9ab4"),r=i("2b0e"),o=i("2fe1"),n=i("60a3"),a=i("9de8");let d=class extends r["a"]{constructor(){super(...arguments),this.initialWidgetData=null,this.version="0.81.5",this.widgetWidth=0,this.widgetSize="small",this.isTouchDevice=!1}mounted(){var e;if(this.setPointerType(),this.initialWidgetData=this.initialData,this.widgetParentContainerElement=null!==(e=this.widgetSnippetElement)&&void 0!==e?e:this.$el.parentElement,this.widgetParentContainerElement)if(this.widgetParentContainerElement.style.width="100%",this.isWidgetVisible())this.onWidgetMounted();else{const e=new ResizeObserver(()=>{this.widgetParentContainerElement&&this.isWidgetVisible()&&(this.onWidgetMounted(),e.disconnect())});e.observe(this.widgetParentContainerElement)}}destroyed(){this.removeResizeListener(),this.removeKeyboardHelper()}onWidgetMounted(){this.widgetWidth=this.widgetParentContainerElement.getBoundingClientRect().width,this.setWidgetSize(this.widgetWidth),this.addKeyboardHelper(),this.addResizeListener(),this.widgetParentContainerElement&&(this.widgetParentContainerElement.style.width="",""===this.widgetParentContainerElement.getAttribute("style")&&this.widgetParentContainerElement.removeAttribute("style"))}isWidgetVisible(){return!!this.widgetParentContainerElement&&!!(this.widgetParentContainerElement.offsetWidth||this.widgetParentContainerElement.offsetHeight||this.widgetParentContainerElement.getClientRects().length)}getWidgetSizes(){const e=this.$el.firstElementChild;e&&this.widgetWidth!==e.clientWidth&&(this.widgetWidth=e.clientWidth,this.setWidgetSize(this.widgetWidth))}setWidgetSize(e){this.widgetSize=e>960?"large":e>640?"medium":"small",this.setPointerType()}addResizeListener(){this.getWidgetSizes(),this.$nextTick(()=>{this.resizeObserver=new ResizeObserver(()=>{if(a["a"].debounce(this.getWidgetSizes.bind(this),100)(),!this.isWidgetVisible()&&this.widgetParentContainerElement){const e=new ResizeObserver(()=>{this.widgetParentContainerElement&&this.isWidgetVisible()&&(this.widgetWidth=this.widgetParentContainerElement.getBoundingClientRect().width,this.setWidgetSize(this.widgetWidth),e.disconnect())});e.observe(this.widgetParentContainerElement)}}),this.resizeObserver.observe(this.$el)})}removeResizeListener(){this.resizeObserver&&this.resizeObserver.disconnect()}addKeyboardHelper(){const e=t=>{"Tab"===t.key&&(document.body.classList.add("is-oke-keyboardUser"),window.removeEventListener("keydown",e))};window.addEventListener("keydown",e)}removeKeyboardHelper(){window.removeEventListener("keydown",this.addKeyboardHelper)}setPointerType(){this.isTouchDevice=window.matchMedia?window.matchMedia("(pointer: coarse)").matches:"small"===this.widgetSize}};Object(s["a"])([Object(n["d"])()],d.prototype,"widgetId",void 0),Object(s["a"])([Object(n["d"])({default:()=>null})],d.prototype,"initialData",void 0),Object(s["a"])([Object(n["d"])()],d.prototype,"widgetSnippetElement",void 0),Object(s["a"])([Object(n["e"])()],d.prototype,"initialWidgetData",void 0),d=Object(s["a"])([Object(o["b"])({inject:[]})],d),t["a"]=d},"9ab4":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));function s(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},ea14:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"onScreenTracking",rawName:"v-onScreenTracking",value:{widgetType:"Reviews Widget",widgetId:e.widgetId,rootMargin:"-30% 0% -40% 0%"},expression:"{ widgetType: 'Reviews Widget', widgetId, rootMargin: '-30% 0% -40% 0%' }"}],staticClass:"okeReviews oke-w",attrs:{"data-oke-reviews-version":e.version,"aria-label":e.reviewAggregate?e.ratingSummary:"","data-oke-container":"",tabindex:"-1",role:"region"}},[i("div",{ref:"okendoWidget",staticClass:"js-oke-widgetSize",class:{"oke-is-small":"small"===e.widgetSize,"oke-is-medium":"medium"===e.widgetSize,"oke-is-large":"large"===e.widgetSize}},[e.showOkendoWidget?[e.reviewAggregate&&e.reviewCount&&"empty"!==e.viewState?i("widget-header",{attrs:{reviewAggregate:e.reviewAggregate,media:e.media,mediaNextUrl:e.mediaNextUrl,reviewsKeywords:e.reviewsKeywords,reviewsSummary:e.reviewsSummary,widgetMode:e.widgetMode,productId:e.productId}}):e._e(),e.tabs.length>1||e.okendoBrandingEnabled?i("div",{staticClass:"oke-w-controls"},[i("div",{staticClass:"oke-w-controls-nav"},[e.tabs.length>1?i("widget-nav-bar",{attrs:{activeTab:e.activeTab,tabs:e.tabs,reviewCount:e.reviewCount,questionCount:e.questionCount,widgetId:e.widgetId},on:{tabChange:function(t){return e.onTabChange(t)}}}):e._e(),e.okendoBrandingEnabled?i("powered-by"):e._e()],1)]):e._e(),e._l(e.tabs,(function(t){return i("div",{key:t,staticClass:"oke-w-main"},[i("div",{staticClass:"oke-w-panel",attrs:{hidden:e.activeTab!==t,id:t+"-panel-"+e.widgetId,"aria-labelledby":e.questionsEnabled?t+"-tab-"+e.widgetId:void 0,role:"tabpanel"}},["reviews"===t?i("div",{staticClass:"oke-w-reviewsTab"},[i("reviews",{attrs:{allowSearchEnginePagination:e.allowSearchEnginePagination,groupId:e.groupId,hasInitialSearchEnginePaginationUrl:!!e.widgetSearchEngineNextUrl,initialNextUrl:e.reviewsNextUrl,initialPageNumber:e.widgetSearchEngineInitialPageNumber,initialReviewCount:e.reviewCount,initialReviews:e.reviews,initialSort:e.sort,reviewAggregate:e.reviewAggregate,loyaltyContextProp:e.loyaltyContext,productAttributes:e.productAttributes,productId:e.productId,reviewsKeywords:e.reviewsKeywords,widgetId:e.widgetId,widgetMode:e.widgetMode,widgetSize:e.widgetSize,widgetWidth:e.widgetWidth,writeReviewProductId:e.writeReviewProductId}})],1):e._e(),e.questionsEnabled&&"questions"===t&&"unopened"!==e.questionsState?i("div",{staticClass:"oke-w-questionsTab"},[i("questions",{attrs:{initialData:e.questionsInitialData,hidden:"loading"===e.questionsState,productId:e.productId,groupId:e.groupId,askQuestionProductId:e.askQuestionProductId,showStateTopBorderOnEmpty:!1},on:{load:function(t){return e.onQuestionsLoaded()}}}),i("div",{staticClass:"oke-w-questions-loading"},["loading"===e.questionsState?i("state",{attrs:{state:"loading",contentType:"questions"}}):e._e()],1)],1):e._e()])])}))]:"empty"!==e.viewState?i("state",{attrs:{state:e.viewState,productId:e.productId,contentType:"reviews"},on:{retry:function(t){return e.loadWidgetData()}}}):e._e()],2),e.metafieldJsonData?i("script",{attrs:{type:"application/json","data-oke-metafield-data":""}},[e._v(" "+e._s(e.metafieldJsonData)+" ")]):e._e()])},r=[],o=i("9ab4"),n=i("60a3"),a=i("5a8d"),d=i("9de8"),l=i("7392"),u=i("7c19"),g={getCrawlablePaginationInfo(e,t){if(!window.location.search)return;const i=new URLSearchParams(window.location.search),s=i.get(e),r=i.get(t);if(!s||!r||isNaN(parseInt(r)))return;const o=decodeURIComponent(s);return o.includes(""+u["default"].subscriberId)&&o.includes("lastEvaluated")?{nextUrl:o,initialPageNumber:parseInt(r)}:void 0}},c=i("8d0e");let w=class extends(Object(n["c"])(c["a"])){constructor(){super(...arguments),this.activeTab="reviews",this.media=[],this.mediaNextUrl=null,this.productAttributes=[],this.questionCount=0,this.questionsInitialData=null,this.questionsState="unopened",this.reviewAggregate=null,this.reviewCount=0,this.reviews=[],this.reviewsNextUrl=null,this.reviewsKeywords=null,this.reviewsSummary=null,this.sort=null,this.tabs=["reviews"],this.viewState="loading",this.widgetSearchEngineInitialPageNumber=1,this.widgetSearchEngineNextUrl=null}created(){if(this.widgetMode=d["a"].getWidgetMode(this.productId,this.groupId),this.reviewsWidgetSettings.tabs.questions&&"all"!==this.widgetMode&&this.tabs.push("questions"),this.getCrawlablePaginationInfo(),this.initialData&&!this.widgetSearchEngineNextUrl){const{reviews:e,reviewsNextUrl:t,reviewAggregate:i,reviewsKeywords:s,reviewsSummary:r,sort:o,media:n,mediaNextUrl:a,questionCount:d,productAttributes:l,areReviewsGrouped:u,questions:g,loyaltyContext:c}=this.initialData;this.reviews=e||[],this.reviewsNextUrl=null!==t&&void 0!==t?t:null,this.reviewAggregate=null!==i&&void 0!==i?i:null,this.reviewsKeywords=null!==s&&void 0!==s?s:null,this.reviewsSummary=null!==r&&void 0!==r?r:null,this.sort=null!==o&&void 0!==o?o:null,this.media=n,this.mediaNextUrl=null!==a&&void 0!==a?a:null,this.reviewCount=(null===i||void 0===i?void 0:i.ratingAndReviewCount)||0,this.questionCount=d||0,this.productAttributes=l||[],this.loyaltyContext=c,this.widgetMode=u?"group":this.widgetMode,this.setSharedProductName(),this.viewState=this.reviewCount||this.questionCount?"content":"empty",g&&(this.questionsInitialData={questions:g})}else this.loadWidgetData()}mounted(){this.initialData&&this.sendWidgetRenderedEvent()}sendWidgetRenderedEvent(){this.$nextTick(()=>{d["a"].sendWidgetRenderedEvent("reviews-widget",this.widgetId)})}get showOkendoWidget(){return"content"===this.viewState||"empty"===this.viewState&&this.showWhenEmpty}get ratingSummary(){if(!this.reviewAggregate)return"";const e=this.reviewAggregate.ratingAndReviewCount;if(!e)return"";const t=(this.reviewAggregate.ratingAndReviewValuesTotal/e).toFixed(1);return`${this.$t("Rated {0} out of 5 stars",[t])} ${this.$tc("Based on {0} reviews",e,[d["a"].getPrettyNumber(e)])}`}get okendoBrandingEnabled(){return!u["default"].widgetSettings.global.hideOkendoBranding}get reviewsWidgetSettings(){return u["default"].widgetSettings.reviewsWidget}get showWhenEmpty(){return this.reviewsWidgetSettings.showWhenEmpty}get questionsEnabled(){return this.reviewsWidgetSettings.tabs.questions}get metafieldJsonData(){var e,t,i,s,r;if("all"!==this.widgetMode){const o={reviews:this.reviews,reviewsNextUrl:null!==(e=this.reviewsNextUrl)&&void 0!==e?e:void 0,areReviewsGrouped:"group"===this.widgetMode,media:this.media,mediaNextUrl:null!==(t=this.mediaNextUrl)&&void 0!==t?t:void 0,reviewAggregate:this.reviewAggregate,reviewsKeywords:null!==(i=this.reviewsKeywords)&&void 0!==i?i:void 0,reviewsSummary:null!==(s=this.reviewsSummary)&&void 0!==s?s:void 0,sort:null!==(r=this.sort)&&void 0!==r?r:void 0,questionCount:this.questionCount,productAttributes:this.productAttributes,loyaltyContext:this.loyaltyContext};return JSON.stringify(o)}}get allowSearchEnginePagination(){var e;return!this.disableSearchEnginePagination&&!!(null===(e=u["default"].widgetSettings.global)||void 0===e?void 0:e.searchEnginePaginationEnabled)}onTabChange(e){"questions"===e&&"unopened"===this.questionsState&&(this.questionsState=this.questionCount?"loading":"loaded"),this.activeTab=e}onQuestionsLoaded(){this.questionsState="loaded"}async loadWidgetData(){var e,t,i,s,r,o,n;this.viewState="loading";const d=this.reviewsWidgetSettings.reviews.controls.filterMode,l=this.headerImagesToLoad(),u=this.loadReviewAggregate(),g=l?this.loadMediaAggregate(l):Promise.resolve(void 0),c=this.widgetSearchEngineNextUrl?a["a"].getMore(this.widgetSearchEngineNextUrl):this.loadReviews(this.reviewsWidgetSettings.reviews.list.initialPageSize||5,this.reviewsWidgetSettings.reviews.controls.defaultSort),w=this.isReviewsKeywordsEnabled(d)&&this.productId?a["a"].getReviewsKeywords(this.productId):Promise.resolve(void 0),v=this.isReviewsSummariesEnabled()&&this.productId?a["a"].getReviewsSummary(this.productId):Promise.resolve(void 0),h=this.questionsEnabled?this.loadQuestionAggregate():Promise.resolve(void 0),p="product"!==this.widgetMode||"open"!==d&&"open-always"!==d?Promise.resolve(void 0):a["a"].getFiltersProduct(this.productId);try{const[a,d,l,m,b,y,S]=await Promise.all([c,w,v,u,g,h,p]);this.reviews=a.reviews,this.reviewsNextUrl=null!==(e=null===a||void 0===a?void 0:a.nextUrl)&&void 0!==e?e:null,this.loyaltyContext=a.loyaltyContext,this.reviewsKeywords=null!==(t=null===d||void 0===d?void 0:d.reviewsKeywords)&&void 0!==t?t:null,this.reviewsSummary=null!==(i=null===l||void 0===l?void 0:l.reviewsSummary)&&void 0!==i?i:null,this.media=null!==(s=null===b||void 0===b?void 0:b.media)&&void 0!==s?s:[],this.mediaNextUrl=null!==(r=null===b||void 0===b?void 0:b.nextUrl)&&void 0!==r?r:null,this.reviewAggregate=m.reviewAggregate,this.reviewCount=this.reviewAggregate.ratingAndReviewCount,this.questionCount=null!==(o=null===y||void 0===y?void 0:y.questionAggregate.approvedQuestionCount)&&void 0!==o?o:0,this.productAttributes=null!==(n=null===S||void 0===S?void 0:S.productAttributes)&&void 0!==n?n:[],this.widgetMode="areReviewsGrouped"in a&&a.areReviewsGrouped?"group":this.widgetMode,this.viewState=this.reviewCount||this.questionCount?"content":"empty",this.setSharedProductName()}catch(m){this.viewState="error"}finally{this.sendWidgetRenderedEvent()}}getCrawlablePaginationInfo(){if(this.widgetSearchEngineNextUrl=null,this.allowSearchEnginePagination&&"carousel"!==u["default"].widgetSettings.reviewsWidget.reviews.list.layout.name){const{nextUrl:e,initialPageNumber:t}=g.getCrawlablePaginationInfo("okeReviewsNextUrl","okeReviewsPageNum")||{};e&&t&&(this.widgetSearchEngineNextUrl=e,this.widgetSearchEngineInitialPageNumber=t)}}isReviewsKeywordsEnabled(e){var t;return!!(null===(t=u["default"].features)||void 0===t?void 0:t.reviewsKeywordsEnabled)&&(l["a"].hasReviewsKeywordsModule(u["default"].widgetSettings.reviewsWidget.header)||"open"===e||"open-always"===e)}isReviewsSummariesEnabled(){var e;return!!(null===(e=u["default"].features)||void 0===e?void 0:e.reviewsSummariesEnabled)&&l["a"].hasReviewsSummaryModule(u["default"].widgetSettings.reviewsWidget.header)}loadQuestionAggregate(){switch(this.widgetMode){case"product":return a["a"].getQuestionAggregateProduct(this.productId);case"group":return a["a"].getQuestionsAggregateCollection(this.groupId);default:return Promise.resolve(void 0)}}async loadReviewAggregate(){switch(this.widgetMode){case"product":return await a["a"].getReviewAggregateProduct(this.productId);case"group":return await a["a"].getReviewAggregateGroup(this.groupId);default:return await a["a"].getReviewAggregateAll()}}loadReviews(e,t){const{featuredReviewsTags:i,secondarySort:s}=this.reviewsWidgetSettings.reviews.controls,r=a["a"].getApiSortOptions(t,s,i);return a["a"].getReviews(this.productId,this.groupId,e,r)}loadMediaAggregate(e){const{featuredReviewsTags:t,secondarySort:i}=this.reviewsWidgetSettings.reviews.controls,s=(null===t||void 0===t?void 0:t.length)?a["a"].getApiSortOptions("tags desc",i,t):void 0;switch(this.widgetMode){case"product":return a["a"].getMediaProduct(this.productId,e,s);case"group":return a["a"].getMediaGroup(this.groupId,e,s);default:return a["a"].getMediaAll(e,s)}}setSharedProductName(){var e;u["default"].productLabel="all"===this.widgetMode?this.$tc("All Products"):null===(e=this.reviewAggregate)||void 0===e?void 0:e.productName}headerImagesToLoad(){return d["a"].getHeaderImagesCountToLoad(this.reviewsWidgetSettings.header.blocks)}};Object(o["a"])([Object(n["d"])()],w.prototype,"groupId",void 0),Object(o["a"])([Object(n["d"])()],w.prototype,"productId",void 0),Object(o["a"])([Object(n["d"])()],w.prototype,"writeReviewProductId",void 0),Object(o["a"])([Object(n["d"])()],w.prototype,"askQuestionProductId",void 0),Object(o["a"])([Object(n["d"])()],w.prototype,"locale",void 0),Object(o["a"])([Object(n["d"])()],w.prototype,"initialData",void 0),Object(o["a"])([Object(n["d"])({default:()=>!1})],w.prototype,"disableSearchEnginePagination",void 0),w=Object(o["a"])([Object(n["a"])({components:{Reviews:async()=>(await i.e("modules/widget").then(i.bind(null,"4ff5"))).default,WidgetNavBar:async()=>(await i.e("modules/widget").then(i.bind(null,"5476"))).default,WidgetHeader:async()=>(await i.e("modules/widget").then(i.bind(null,"f282"))).default,PoweredBy:async()=>(await i.e("modules/shared-components").then(i.bind(null,"fcf3"))).default,State:async()=>(await i.e("modules/shared-components").then(i.bind(null,"6d6f"))).default,Questions:async()=>(await Promise.all([i.e("okendo-reviews-lib"),i.e("modules/questions")]).then(i.bind(null,"1d2d"))).default}})],w);var v=w,h=v,p=(i("6b9f"),i("2877")),m=Object(p["a"])(h,s,r,!1,null,null,null);t["default"]=m.exports}}]);